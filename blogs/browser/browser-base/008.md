---
title: 008 HTTP并发
date: 2021-5-28
categories: 
 - 浏览器
tags:
 - 浏览器
sidebar: 'auto'
---

> 使用 promise.all() 的时候有一个疑惑，即到底能同时发送多少个请求？  
> 要搞清楚这个问题要从HTTP开始说起 

## HTTP 1.0  
首先是HTTP 1.0： 每一次 HTTP 请求，就要建立一个 TCP 链接,用完就断开,用完就断开,用完就断开。
## HTTP 1.1
固 HTTP 1.1 诞生: HTTP 1.1 加入了 Keep-Alive ，只要 TCP 链接没断就能一直发送HTTP请求，但问题还没解决，这个协议模型本身还是在 HTTP/1.0 上修修补补，缺点还是有的，也就是同一个 TCP 链接上，多个 HTTP 请求彼此间是阻塞的，也就是请求 A 先得到响应后，请求 B 才会开始发送。 那么有读者就要问了为什么控制台上看起来是并发了。其实实现并发只能建立多个TCP链接，各个浏览器各有不同 如 Chrome 为6个、Safari 4 个、IE则各版本不同，也就是说一个域名可以同时建立6个TCP连接，以此来并发6个HTTP请求。（但是后端也同样可以限制并发个数）
## HTTP 2.0
最后到了HTTP 2.0：2.0真正意义上实现了 HTTP 并发，一个 tcp 连接可以并发多个 HTTP 请求，请求官网 https://http2.akamai.com/demo 打开控制台，发现并发了上百个请求...
## 总结
HTTP 并发数取决于 HTTP 协议、浏览器限制、后端限制。